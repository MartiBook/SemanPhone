{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block head %}
    {{ super() }}

    <style type="text/css">

        .feedback_div {
            width: 40%;
            height: 25%;
            position: absolute;
            margin-top: 170px;
            left: 29%;
            right: auto;
        }

        .word {
            text-align: center;
            margin-left: auto;
            margin-right: auto
        }

    </style>



{% endblock %}


{% block title %} SemanPhone {% endblock %}


{% block page_content %}
    {{ super() }}

    <div class="page-header">
        <a href="/">
            <h1> {{ word_id }} </h1>
        </a>
    </div>

    <div class="searchbox_div">
        {{ wtf.quick_form(form) }}
    </div>

    <div class="feedback_div">
        {% for c in comparison %}
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <h2>{{ c[0] }}</h2>
                    </div>
                    <div class="panel-footer">
                        <span class="glyphicon glyphicon-thumbs-up approval-btn" aria-hidden="true"></span>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    <script>
        $('.approval-btn').click(event => {
            let target = $(event.target);
            let a_word = target.parent().prev().text().trim();
            if (target.hasClass('approval-btn-clicked')) {
                $.get(`/disapprove/{{ word_id }}/${a_word}`, function () {
                    target.removeClass('approval-btn-clicked').css('background-color', 'unset');
                })
            } else {
                $.get(`/approve/{{ word_id }}/${a_word}`, function () {
                   target.addClass('approval-btn-clicked').css('background-color', '#BDD5FF');
                });
            }
        })
    </script>
{% endblock %}

